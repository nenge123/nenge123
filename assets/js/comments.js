((N) => {

 /*! livere.tower 2021-09-24, 12:06:42 AM */
 let LivereTower=function(){"use strict";function serial(e){return e+"-"+Math.floor(1e3*Math.random())}function addEventListener(e,t,n){n=n||window,(bound[e]||(bound[e]=[])).push(t),n.addEventListener?n.addEventListener(e,t):n.attachEvent&&n.attachEvent("on"+e,t)}function removeEventListener(e,t,n){(n=n||window).removeEventListener?n.removeEventListener(e,t):n.detachEvent&&n.detachEvent("on"+e,t)}function isMobile(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t}function postMessage(e,t){if(e&&t&&!isRestrictIEVersion(7))return e.postMessage(JSON.stringify(t),"*")}function animateScroll(e,t){function n(){return clearInterval(get("timer"))}set("timer",setInterval((function(){return(t?function(e){return e>=offset()}(e):function(e){return e<=offset()}(e))?(clearInterval(get("timer")),set("timer",null)):(setTimeout(n,1e3),window.scrollTo(0,t?offset()-100:offset()+100))}),1))}function isRestrictIEVersion(e){if(e){var t=(get("browser")?get("browser"):setBrowser()).split(" ")[0],n=Number(get("browser").split(" ")[1]);return"MSIE"===t&&!(n&&n>e)}}function setBrowser(){return set("browser",(n=(t=navigator.userAgent).match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[],/trident/i.test(n[1])?"IE "+((e=/\brv[ :]+(\d+)/g.exec(t)||[])[1]||""):"Chrome"===n[1]&&null!=(e=t.match(/\bOPR\/(\d+)/))?"Opera "+e[1]:(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=t.match(/version\/(\d+)/i))&&n.splice(1,1,e[1]),n.join(" "))));var e,t,n}function isObjectPropertiesNull(e){for(var t in e)if("string"!=typeof t||!e[t]&&0!==e[t])return!0;return!1}function hasProtocol(e){return new RegExp("^(http|https)://","i").test(e)}function search(e,t,n){return e<1?n:"object"==typeof n?search(e-1,t,n[t[t.length-e]]):void 0}function get(e){var t=variables[e];return"object"==typeof(e=e.split("."))&&e.length>1&&(t=search(e.length,e,variables)),t}function set(e,t){if("object"!=typeof e||t)return variables[e]=t,get(e);for(var n in e)variables[n]=e[n]}function warning(e){}function error(e){throw["ERROR: ",e].join("")}function template(e,t){if(e&&!(["comment","sidebar","check"].indexOf(e)<0))return function(e,t){var n=document.createElement("iframe"),o=get("baseURI")+e+"/"+t.id;return t.uuid=uuid,n.title="livere-"+e,n.scrolling="no",n.async=!0,n.frameBorder=0,n.allowTransparency="true",n.src="check"===e?"https://101.livere.co.kr/html/systemCheck.html":concatURI(o,t,!0),isRestrictIEVersion(7)&&(n.scrolling="auto",n.height="1000px"),n}(e,t)}function concatURI(e,t,n){var o="?";for(var r in t)t[r]&&(o+="?"!==o?"&":"",o+=r+"="+encodeURIComponent(t[r]));return e+o+(n?"":"callback=?")}function offset(){return window.pageYOffset?window.pageYOffset:document.documentElement.scrollTop}function getCommentOffset(){var e=get("lv_comment"),t=e.ownerDocument,n=t.documentElement,o=e.getBoundingClientRect(),r=t.body,i=window,a=n.clientTop||r.clientTop||0,c=n.clientLeft||r.clientLeft||0,s=i.pageYOffset||r.scrollTop,l=i.pageXOffset||r.scrollLeft;return{top:o.top+s-a,left:o.left+l-c}}function getPosition(e){for(var t=0,n=0;e;){if("BODY"==e.tagName){var o=e.scrollLeft||document.documentElement.scrollLeft,r=e.scrollTop||document.documentElement.scrollTop;t+=e.offsetLeft-o+e.clientLeft,n+=e.offsetTop-r+e.clientTop}else t+=e.offsetLeft-e.scrollLeft+e.clientLeft,n+=e.offsetTop-e.scrollTop+e.clientTop;e=e.offsetParent}return{x:t,y:n}}function getWindowHeight(){var e=void 0!==window.pageXOffset,t="CSS1Compat"===(document.compatMode||"");return e?window.pageXOffset:t?document.documentElement.scrollLeft:document.body.scrollLeft,e?window.pageYOffset:t?document.documentElement.scrollTop:document.body.scrollTop}function request(e,t,n){if(e){var o="undefined"!=typeof XDomainRequest&&-1==navigator.appVersion.indexOf("MSIE 1");if(o){var r=new XDomainRequest,i=e.split(":").slice(1);e=0===i.length?e:i.join(":")}else r=new XMLHttpRequest;if(r.open(t.method&&t.method.toUpperCase()||"GET",e),o)r.onload=function(){n&&"function"==typeof n&&n(r.responseText)},r.send(t.data);else{if(t.header){for(var a in t.header)var c=t.header[a];r.setRequestHeader(a,c)}r.onreadystatechange=function(){4==r.readyState&&200==r.status?n&&"function"==typeof n&&n(r.responseText):4==r.readyState&&r.status},r.send(t.data)}}}function requestLog(e){var t,n=config.parse(),o=atob(n.uid).split("/");try{t=unescape(decodeURIComponent(n.title))}catch(e){t=n.title}var r={title:t,url:n.site,consumer_seq:+o[0],livere_seq:+o[1],livere_referer:n.refer,sender:"tower",uuid:uuid};for(var i in r)e[i]=r[i];request("https://saluton.cizion.com/livere",{method:"post",header:{"Content-Type":"application/json"},data:JSON.stringify(e)})}function getConsumer(e,t){var n=config.parse();request(LIVEREMEURL+"v1/consumer?consumerSeq="+e+"&refer="+n.refer,{method:"GET",header:{"Content-Type":"application/json"},dataType:"jsonp"},(function(o){var r=o?JSON.parse(o):null;r&&!0===r.consumer.isMedia&&(!1===r.redisRepCheck?(Object.assign(n,{consumerSeq:e,livereSeq:t}),n.title=n.titleString,createRep(n)):!1===r.redisMetaCheck&&createMeta(n,t))}))}function createRep(e){var t="";Object.keys(e).map((function(n){e[n]=null===e[n]?"":e[n],t&&(t+="&"),t+=n+"="+e[n]})),request(LIVEREMEURL+"v1/rep",{method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded"},dataType:"jsonp",data:t},(function(t){return createMeta(e,e.livereSeq),t}))}function createMeta(e,t){var n={refer:e.refer,livereSeq:t,category:getMetaData("category"),keyword:getMetaData("keyword"),reporter:getMetaData("reporter")},o="";Object.keys(n).map((function(e){n[e]=null===n[e]?"":n[e],o&&(o+="&"),o+=e+"="+n[e]})),request(LIVEREMEURL+"v1/meta",{method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded"},dataType:"jsonp",data:o},(function(e){return e}))}function getMetaData(e){var t,n,o=[];"category"===e?t=["article:section","article:section2","article:section3"]:"keyword"===e?n=["property='article:tag'","name='news_keywords'","name='keywords'"]:"reporter"===e&&(t=["dable:author","article:author"],n=["name='byl'","name='author'","name='writer'","name='twitter:creator'"]),t?t.map((function(e,t){var n=document.querySelector('meta[property="'+e+'"]');o[t]=n?n.getAttribute("content"):null})):n.map((function(e,t){var n=document.querySelector("meta["+e+"]");o[t]=n?n.getAttribute("content"):null}));var r="";return o.map((function(e){e&&(r=r?r+"||"+e:e)})),r}function getUUID(e){var t=localStorage.getItem("livereUUID");t?(uuid=t,e()):request(LIVEREMEURL+"uuid",{method:"GET",header:{"Content-Type":"application/json"},dataType:"jsonp"},(function(t){var n=t&&JSON.parse(t);n&&n.uuid&&(localStorage.setItem("livereUUID",n.uuid),uuid=n.uuid,e())}))}var livere={},widget={},config={},LIVEREMEURL,LIVEREMEURL_PROD="https://was.livere.me/",LIVEREMEURL_STAG="https://was-stag.livere.me/";LIVEREMEURL=location.search.indexOf("livereMode=stag")>-1?LIVEREMEURL_STAG:LIVEREMEURL_PROD;var variables={},uuid,bound={},a,e;livere.__version__="9.1",livere.init=function(e){this.Element="string"==typeof e?document.querySelector(e):e;var t=window.livereOptions||{};isRestrictIEVersion(9)&&config.previousVersion.call(this);var n=!1,o=t.eagerLoading||n;livere.attachEvents.call(this),getUUID((function(){widget.ad.load();var e={type:"livere_pv",action:"loading",extra:{useEagerLoading:o||!1}};if(requestLog(e),o)return location.search.indexOf("redirectOrigin=true")>-1?widget.oauth.call(this):livere.start.call(this);livere.loading.call(this)}))},livere.loading=function(){function e(){var n=getPosition(t);if(isNaN(window.innerHeight)||isNaN(getWindowHeight())||n.y-getWindowHeight()-window.innerHeight<100)return removeEventListener("scroll",e,o),location.search.indexOf("redirectOrigin=true")>-1?widget.oauth.call(this):livere.start.call(this)}var t=LivereTower.Element,n=window.livereOptions||{},o=document.querySelector(n.scrollEventTargetSelector);addEventListener("scroll",e,o),e()},livere.start=function(){set({baseURI:LIVEREMEURL,mobile:isMobile(),common:config.parse()});var e=(window.livereOptions||{}).components||["comment"];livere.load(isRestrictIEVersion(7)?["comment"]:e)},livere.attachEvents=function(){var e={comment:{requestCustomLivereOption:function(e,t){widget.comment.sendCustomLivereOption()},loaded:function(e,t){widget.comment.resize(e,t.height),widget.comment.updateParams(),widget.comment.insertTaboola(t.taboola)},resize:function(e,t){return widget.comment.resize(e,t.height)},highlight:function(e,t){return widget.comment.highlight(e,t.top)},attached:function(){var e=window.livereOptions||{},t=document.querySelector(e.scrollEventTargetSelector);return addEventListener("scroll",widget.comment.parentHeight,t),widget.comment.parentHeight()},detached:function(){var e=window.livereOptions||{},t=document.querySelector(e.scrollEventTargetSelector);return removeEventListener("scroll",widget.comment.parentHeight,t)},scrollTo:function(e,t){var n=get("lv_comment").offsetTop+t.position;return window.scrollTo(0,Math.abs(n)-50)},scrollToQuotation:function(e,t){var n=get("lv_comment").offsetTop,o=get("quotation"),r=t.direction;return r?(set("quotation",offset()),offset()>5e3?window.scrollTo(0,n):animateScroll(n,r)):o>5e3?window.scrollTo(0,o):animateScroll(o,r)},sidebar:function(e,t){if(get("lv_utils"))return widget.sidebar.open(t);set("sidebarParams",t),livere.load(["sidebar"])},openCardReplyPopup:function(e,t){return widget.sidebar.openCardReplyPopup(t)},actionSuccess:function(e,t){return widget.sidebar.actionSuccess(t)},deleteSuccess:function(e,t){return widget.sidebar.deleteSuccess(t)},hooker:function(e,t){var n=window.livereHooks;if(n){var o={common:function(e){return n[t.type]?n[t.type].call(this,e):null},created:function(e){return o.common(e)},write:function(e){return o.common(e)},modify:function(e){return o.common(e)},remove:function(e){return o.common(e)},like:function(e){return o.common(e)},dislike:function(e){return o.common(e)}};return o[t.type]?o[t.type].call(this,t.data):null}}},sidebar:{inited:function(t,n){return e.sidebar.hooker(t,n)},requestOpen:function(e,t){return widget.sidebar.open(get("sidebarParams"))},fail:function(){return e.sidebar.close(this)},state:function(){return widget.comment.state()},close:function(e){return widget.sidebar.close()},updateBlock:function(e,t){return widget.comment.updateBlock(t)},closeCardReplyPopup:function(e,t){return widget.sidebar.closeCardReplyPopup()},requestAction:function(e,t){return widget.comment.requestAction(t)},requestDeleteReply:function(e,t){return widget.comment.requestDeleteReply(t)},modifyReplyInformation:function(e,t){return widget.comment.modifyReplyInformation(t)},removeReply:function(e,t){return widget.comment.removeReply(t)},notifyCountUpdate:function(e){return widget.sidebar.notifyCountUpdate()},hooker:function(e,t){var n=window.livereHooks;if(n){var o={inited:function(e){return n.sidebarInit?n.sidebarInit.call(this,e):null}};return o[t.type]?o[t.type].call(this,t.data):null}}},utils:{hooker:function(e,t){var n=window.livereHooks;if(n){var o={loginData:function(e){return n.loginData?n.loginData.call(this,e):null},sessionData:function(e){return n.sessionData?n.sessionData.call(this,e):null}};return o[t.type]?o[t.type].call(this,t.data):null}},livereLoggedIn:function(){return widget.sidebar.getLoginData()},cityLoggedIn:function(){return widget.sidebar.getCurrentSessionData()}},popup:{image:function(e,t){return widget.sidebar.image(t)}},ad:{resize:function(e,t){return widget.ad.resize(e,t.height)}}};return addEventListener("message",(function(t){if(t.data&&"string"==typeof t.data&&t.data.match(/^{.*}$/g)){var n=JSON.parse(t.data),o=e[n.caller];return!!o&&o[n.e](n.caller,n.params)}}))},livere.load=function(e){var t=get("common");if(!(!e instanceof Array))for(var n=0;n<e.length;n++)widget[e[n]]&&widget[e[n]].draw(template(e[n],t))},widget.check=(a={draw:function(e){if(e){var t=serial("lv-check");e.style.cssText="min-width:100%;width:100px;*width:100%;height:250px;overflow:hidden;border:0;z-index:124212;",e.id=t,document.getElementById("lv-container").appendChild(e)}}},a),widget.comment=(e={state:function(){var e=get("lv_comment");if(e)return postMessage(e.contentWindow,{e:"state"})},updateBlock:function(e){return postMessage(get("lv_comment").contentWindow,{e:"updateBlock",params:e})},highlight:function(e,t){var n=get("lv_comment").offsetTop;return window.scrollTo(0,n+t)},parentHeight:function(e){var t=offset()-getCommentOffset().top+30,n=document.documentElement.clientHeight,o=n/2;return postMessage(get("lv_comment").contentWindow,{e:"position",params:{top:t>0?t:0,center:t>0?t+o:o,bottom:n+offset()-100}})},draw:function(e){if(e){var t=serial("lv-comment");return e.style.cssText="min-width:100%;width:100px;*width:100%;height:500px;overflow:hidden;border:0;z-index:124212;",e.id=t,document.getElementById("lv-container").appendChild(e),function(e){return set("lv_comment",document.getElementById(e))}(t)}},resize:function(e,t){var n=window.livereOptions,o=n&&void 0!==n.bottomMargin&&!isNaN(Number(n.bottomMargin))&&n.bottomMargin>=0?n.bottomMargin:40;return get("lv_comment").style.height=t+o+"px"},updateParams:function(){var e=document.querySelector('meta[property="og:description"]');if(e&&e.content)return postMessage(get("lv_comment").contentWindow,{e:"updateParams",params:{description:e.content}})},sendCustomLivereOption:function(){var e=window.livereOptions;return postMessage(get("lv_comment").contentWindow,{e:"getCustomLivereOption",params:{options:e}})},insertTaboola:function(e){if(e&&void 0!==e.status&&!e.status)if("cizion-laibili"===e.accountId){const e=document,t=e.createElement("script");t.type="text/javascript",t.text="window._taboola = window._taboola || []; _taboola.push({article:'auto'}); !function (e, f, u, i) { if (!document.getElementById(i)){ e.async = 1; e.src = u; e.id = i; f.parentNode.insertBefore(e, f); } }(document.createElement('script'), document.getElementsByTagName('script')[0], '//cdn.taboola.com/libtrc/cizion-china-network/loader.js', 'tb_loader_script'); if(window.performance && typeof window.performance.mark == 'function') {window.performance.mark('tbl_ic');}",e.head.appendChild(t);const n=LivereTower.Element,o=e.createElement("div");o.id="taboola-below-article-thumbnails";const r=e.createElement("script");r.type="text/javascript",r.text="window._taboola = window._taboola || []; _taboola.push({ mode: 'thumbnails-a', container: 'taboola-below-article-thumbnails', placement: 'Below Article Thumbnails', target_type: 'mix' });",n.after(o),o.after(r);const i=e.createElement("script");i.type="text/javascript",i.text="window._taboola = window._taboola || []; _taboola.push({flush: true});",e.body.after(i)}else{const t="taboola-livere";window._taboola=window._taboola||[],_taboola.push({article:"auto"}),function(e,t,n,o){document.getElementById(o)||(e.async=1,e.src=n,e.id=o,t.parentNode.insertBefore(e,t))}(document.createElement("script"),document.getElementsByTagName("script")[0],"//cdn.taboola.com/libtrc/"+e.accountId+"/loader.js","tb_loader_script"),window.performance&&"function"==typeof window.performance.mark&&window.performance.mark("tbl_ic");const n=document,o=LivereTower.Element,r=n.createElement("div");r.id=t,o.parentNode.insertBefore(r,o.nextSibling),window._taboola=window._taboola||[],_taboola.push({mode:"thumbnails-a",container:t,placement:e.placement,target_type:"mix"}),window._taboola=window._taboola||[],_taboola.push({flush:!0})}}},e.updateBlock=function(e){return postMessage(get("lv_comment").contentWindow,{e:"updateBlock",params:e})},e.requestAction=function(e){return postMessage(get("lv_comment").contentWindow,{e:"requestAction",params:e})},e.requestDeleteReply=function(e){return postMessage(get("lv_comment").contentWindow,{e:"requestDeleteReply",params:e})},e.modifyReplyInformation=function(e){return postMessage(get("lv_comment").contentWindow,{e:"modifyReplyInformation",params:e})},e.removeReply=function(e){return postMessage(get("lv_comment").contentWindow,{e:"removeReply",params:e})},e.emitPositionEvent=function(e){var t=get("lv_comment");if(t){var n=getPosition(t);return postMessage(t.contentWindow,{e:"scroll",params:{relativeX:n.x,relativeY:n.y,screenHeight:window.innerHeight}})}},e),widget.sidebar=function(){var e={open:function(e){return(get("mobile")?function(e){var t=get("common.id"),n=LIVEREMEURL+"sidebar/"+t;if(!e)return top.location.href=n;var o=concatURI(n,{uid:e.uid,code:e.code,member_group_seq:e.member_group_seq,path:e.path,memberGroupSeq:e.member_group_seq,refer:window.livereOptions&&window.livereOptions.refer||window.refer||location.host+location.pathname,mode:"mobile",type:e.target,uuid:uuid},!0);return top.location.href=o}:function(e){var t=get("lv_utils");if(t)return t.style.height="100%",t.style.display="block",postMessage(t.contentWindow,{e:"open",params:e})}).call(this,e)},image:function(e){var t=get("lv_utils");if(t)return t.style.display="block",postMessage(t.contentWindow,{e:"image",params:e})},draw:function(t){if(t){var n=serial("lv-utils");return t.style.cssText="width:100%;overflow:hidden;border:0;position:fixed;left:0;top:0;z-index:2147483647;display:none",t.style.height=document.documentElement.clientHeight+"px",t.id=n,document.getElementsByTagName("body")[0].appendChild(t),e.attachEvent(),function(e){return set("lv_utils",document.getElementById(e))}(n)}},openCardReplyPopup:function(e){var t=get("lv_utils");return t.style.display="block",postMessage(t.contentWindow,{e:"openCardReplyPopup",params:e})},closeCardReplyPopup:function(e){get("lv_utils").style.display="none"},actionSuccess:function(e){return postMessage(get("lv_utils").contentWindow,{e:"actionSuccess",params:e})},deleteSuccess:function(e){var t=get("lv_utils");return t.style.display="none",postMessage(t.contentWindow,{e:"deleteSuccess",params:e})},attachEvent:function(){addEventListener("resize",widget.sidebar.resize)},resize:function(){var e=get("lv_utils"),t=document.documentElement.clientHeight;e.style.height=t+"px",postMessage(e.contentWindow,{e:"resize",params:{height:t}})},close:function(){return get("lv_utils").style.display="none",removeEventListener("resize",widget.sidebar.resize),postMessage(get("lv_comment").contentWindow,{e:"setCurrentFocus"})},getLoginData:function(){return postMessage(get("lv_utils").contentWindow,{e:"loginData"})},getCurrentSessionData:function(){return postMessage(get("lv_utils").contentWindow,{e:"sessionData"})},notifyCountUpdate:function(){return postMessage(get("lv_comment").contentWindow,{e:"notifyCountUpdate"})}};return e}(),widget.ad={draw:function(e){if(e){var t=serial("lv-ad");return e.style.cssText="min-width:100%;width:100px;height:0px;overflow:visible;border:0;z-index:124212;",e.id=t,document.getElementById("lv-container").appendChild(e),function(e){return set("lv_ad",document.getElementById(e))}(t)}},load:function(){var e=config.parse(),t=atob(e.uid).split("/"),n=+t[0],o=+t[1],r=document.querySelector('meta[property="og:url"]'),i=options.site||(r?r.getAttribute("content"):location.href);widget.ad.draw(widget.ad.template("ad",{consumerSeq:n,livereSeq:o,isMobile:isMobile(),site:i}))},template:function(e,t){var n=document.createElement("iframe"),o=LIVEREMEURL+e;return n.title="livereAd",n.scrolling="no",n.async=!0,n.frameBorder=0,n.allowTransparency="true",n.src=o+"?consumerSeq="+t.consumerSeq+"&livereSeq="+t.livereSeq+"&isMobile="+t.isMobile+"&site="+t.site+"&uuid="+uuid,n},resize:function(e,t){return get("lv_ad").style.height=t+"px"}},widget.oauth=function(){!function(e,t){var n,o=e.getElementsByTagName(t)[0];(n=e.createElement(t)).src="https://api-city.livere.com/smartlogin",n.async=!0,o.parentNode.insertBefore(n,o)}(document,"script")},config.previousVersion=function(){Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){for(var n=t||0,o=this.length;n<o;n++)if(this[n]===e)return n;return-1}),function(){var e=document.createStyleSheet(),t=function(t,n){var o,r=document.all,i=r.length,a=[];for(e.addRule(t,"foo:bar"),o=0;o<i&&!("bar"===r[o].currentStyle.foo&&(a.push(r[o]),a.length>n));o+=1);return e.removeRule(0),a};document.querySelectorAll||document.querySelector||(document.querySelectorAll=function(e){return t(e,1/0)},document.querySelector=function(e){return t(e,1)[0]||null})}(),"object"!=typeof JSON&&(JSON={}),function(){function f(e){return e<10?"0"+e:e}function this_value(){return this.valueOf()}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,(function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}function str(e,t){var n,o,r,i,a,c=gap,s=t[e];switch(s&&"object"==typeof s&&"function"==typeof s.toJSON&&(s=s.toJSON(e)),"function"==typeof rep&&(s=rep.call(t,e,s)),typeof s){case"string":return quote(s);case"number":return isFinite(s)?String(s):"null";case"boolean":case"null":return String(s);case"object":if(!s)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(s)){for(i=s.length,n=0;n<i;n+=1)a[n]=str(n,s)||"null";return r=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+c+"]":"["+a.join(",")+"]",gap=c,r}if(rep&&"object"==typeof rep)for(i=rep.length,n=0;n<i;n+=1)"string"==typeof rep[n]&&(r=str(o=rep[n],s))&&a.push(quote(o)+(gap?": ":":")+r);else for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r=str(o,s))&&a.push(quote(o)+(gap?": ":":")+r);return r=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+c+"}":"{"+a.join(",")+"}",gap=c,r}}var cx,escapable,gap,indent,meta,rep;"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=this_value,Number.prototype.toJSON=this_value,String.prototype.toJSON=this_value),"function"!=typeof JSON.stringify&&(escapable=/[\\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(e,t,n){var o;if(gap="",indent="","number"==typeof n)for(o=0;o<n;o+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,JSON.parse=function(text,reviver){function walk(e,t){var n,o,r=e[t];if(r&&"object"==typeof r)for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(void 0!==(o=walk(r,n))?r[n]=o:delete r[n]);return reviver.call(e,t,r)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,(function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),window.atob=function(e){var t=0,n=[],o=0,r=0;if((e=(e=String(e)).replace(/\s/g,"")).length%4==0&&(e=e.replace(/=+$/,"")),e.length%4==1)throw Error("InvalidCharacterError");if(/[^+\/0-9A-Za-z]/.test(e))throw Error("InvalidCharacterError");for(;t<e.length;)o=o<<6|"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(t)),24===(r+=6)&&(n.push(String.fromCharCode(o>>16&255)),n.push(String.fromCharCode(o>>8&255)),n.push(String.fromCharCode(255&o)),r=0,o=0),t+=1;return 12===r?(o>>=4,n.push(String.fromCharCode(255&o))):18===r&&(o>>=2,n.push(String.fromCharCode(o>>8&255)),n.push(String.fromCharCode(255&o))),n.join("")},Object.keys||(Object.keys=function(e){if(e!==Object(e))throw new TypeError("Object.keys called on a non-object");var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(t);return n})},config.parse=function(){var e=document,t=LivereTower.Element,n=window.livereOptions||{};if(t){var o=e.querySelector('meta[property="og:image"]'),r=e.querySelector('meta[property="og:title"]'),i=e.querySelector('meta[property="og:url"]'),a=location.hash.match(/#highlight-comment=([0-9]{1,})/),c={id:t.getAttribute("data-id"),refer:n.refer||window.refer||location.host+location.pathname};if(~location.host.indexOf("tistory.com")&&hasProtocol(c.refer)&&(c.refer=c.refer.replace(new RegExp("^https?://","i"),"http://")),!isObjectPropertiesNull(c)){c.uid=t.getAttribute("data-uid")||null,c.site=n.site||(i?i.getAttribute("content"):location.href);var s=(r?r.getAttribute("content"):document.title)||"Welcome to the black parade";return c.title=encodeURIComponent(escape(s)),c.titleLength=s.length,c.logo=o?o.getAttribute("content"):null,c.highlightSeq=a?a[a.length-1]:null,c.redirectOrigin=n.redirectOrigin||null,c.preview=!!n.preview&&n.preview,c}}};var options=window.livereOptions||{},scrollEventTarget=document.querySelector(options.scrollEventTargetSelector);return addEventListener("scroll",widget.comment.emitPositionEvent,scrollEventTarget),livere.reload=function(){var e,t,n=Object.keys(bound);for(e=0;e<n.length;e++){var o=n[e],r=bound[o];for(t=0;t<r.length;t++)removeEventListener(o,r[t]);delete bound[o]}var i=LivereTower.Element,a=get("lv_comment"),c=get("lv_utils");if(i&&(a&&i.removeChild(a),c&&document.body.removeChild(c)),variables={},bound={},(window.livereOptions||{}).eagerLoading)return location.search.indexOf("redirectOrigin=true")>-1?widget.oauth.call(this):livere.start.call(this);livere.loading.call(this)},livere.get=get,livere.set=set,livere.refresh=function(){return widget.comment.state()},livere.common={utils:{open:function(){return widget.sidebar.open()},getLoginData:function(){return widget.sidebar.getLoginData()},getCurrentSessionData:function(){return widget.sidebar.getCurrentSessionData()}}},livere}();window.LivereTower=LivereTower;N.triger(document,'ShowComments',{detail:LivereTower});;

})(Nenge);